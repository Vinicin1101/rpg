<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>Login</title>
  </head>
  <body>
    <form id="form" action="/access/login" method="post">
      <input type="email" name="email" placeholder="Email" />
      <input type="password" name="senha" placeholder="Senha" />

      <input type="button" value="Enviar" onclick="send()" />
    </form>

    <script>
      function send() {
        // Captura os dados do formulÃ¡rio
        var form = document.getElementById("form");
        var data = new FormData(form);

        // Converte os dados em um objeto JSON
        var jsonData = {};
        data.forEach((value, key) => {
          jsonData[key] = value;
        });

        // Envia os dados como um JSON
        fetch("/access/login", {
          method: "POST",
          body: JSON.stringify(jsonData),
          headers: {
            "Content-Type": "application/json",
          },
        })
          .then((response) => response.json())
          .then((data) => {
            console.log(data);
          });
      }
    </script>
  </body>
</html>
